<mat-drawer-container class="component-container">
  <mat-drawer class="docs-drawer" mode="side" opened>
    <mat-form-field class="w-100">
      <span>
        <i class="fa fa-search mr-2" aria-hidden="true" style="margin-left: 2px"></i>
        <input class="docs-search-input" matInput [(ngModel)]="searchQuery" (change)="searchDocsByName(searchQuery)">
      </span>
    </mat-form-field>
    <div class="d-flex justify-content-center">
      <button mat-button (click)="redirectTo(selectedTag.name)"
        [matMenuTriggerFor]="menu">{{ selectedTag.name | titlecase }}</button>
    </div>
    <mat-menu #menu="matMenu">
      <button mat-menu-item *ngFor="let tag of allTags" (click)="changeTag(tag)">{{ tag.name }}</button>
    </mat-menu>
    <mat-list>
      <mat-divider></mat-divider>
      <div *ngFor="let doc of filteredDocs">
        <mat-list-item (click)="changeSelectedDoc(doc.fileName)">{{ doc.title }}</mat-list-item>
        <mat-divider></mat-divider>
      </div>
    </mat-list>
  </mat-drawer>
  <mat-drawer-content>
    <mat-toolbar class="doc-controls-toolbar d-flex justify-content-end">
      <mat-chip-list *ngIf="selectedDoc && selectedDoc.tags">
        <mat-chip (click)="redirectTo(tag.name)" *ngFor="let tag of selectedDoc.tags">{{ tag.name }}</mat-chip>
      </mat-chip-list>
      <div class="spacer"></div>
      <button mat-mini-fab class="mr-1" (click)="openDocDialog('new')">
        <mat-icon>file_upload</mat-icon>
      </button>
      <button mat-mini-fab (click)="openDocDialog('edit')" *ngIf="this.selectedDoc && this.selectedDoc.id">
        <mat-icon>edit</mat-icon>
      </button>
    </mat-toolbar>
    <div style="margin:48px 14px;">
      <markdown lineNumbers *ngIf="selectedDoc && selectedDoc.url" [src]="selectedDoc.url"></markdown>
    </div>
  </mat-drawer-content>
</mat-drawer-container>